2025-04-05 21:12:02 [ERROR]: Firebase initialization error: Failed to parse private key: Error: Invalid PEM formatted message. | {"service":"notification-service","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"codePrefix":"app","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:34)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:30)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)"}
2025-04-05 21:12:02 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:12:02 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:12:15 [ERROR]: Firebase initialization error: Failed to parse private key: Error: Invalid PEM formatted message. | {"service":"notification-service","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"codePrefix":"app","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:34)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)"}
2025-04-05 21:12:15 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:12:15 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:13:05 [ERROR]: Firebase initialization error: Failed to parse private key: Error: Invalid PEM formatted message. | {"service":"notification-service","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"codePrefix":"app","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:34)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)"}
2025-04-05 21:13:05 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:13:05 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:17:11 [INFO]: ::1 - - [05/Apr/2025:19:17:11 +0000] "GET /email/confirmation HTTP/1.1" 404 157 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:17:15 [INFO]: ::1 - - [05/Apr/2025:19:17:15 +0000] "POST /email/confirmation HTTP/1.1" 404 158 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:17:24 [INFO]: ::1 - - [05/Apr/2025:19:17:24 +0000] "POST /api/email/confirmation HTTP/1.1" 401 107 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:17:59 [INFO]: ::1 - - [05/Apr/2025:19:17:59 +0000] "POST /api/email/confirmation HTTP/1.1" 401 107 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:23:39 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:23:39 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:23:39 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:23:57 [INFO]: ::1 - - [05/Apr/2025:19:23:57 +0000] "POST /api/email/confirmation HTTP/1.1" 401 107 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:30:04 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:30:04 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:30:04 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:30:34 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:30:34 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:30:34 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:31:04 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:31:04 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:31:04 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:31:17 [ERROR]: invalid signature | {"service":"notification-service","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:31:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\express-rate-limit\\dist\\index.cjs:822:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\express-rate-limit\\dist\\index.cjs:704:5"}
2025-04-05 21:31:17 [INFO]: ::1 - - [05/Apr/2025:19:31:17 +0000] "POST /api/email/confirmation HTTP/1.1" 401 107 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:31:39 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:31:39 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:31:39 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:32:00 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:32:00 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:32:00 [INFO]: ::1 - - [05/Apr/2025:19:32:00 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:33:05 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:33:05 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:33:05 [INFO]: ::1 - - [05/Apr/2025:19:33:05 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:33:16 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:33:16 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:33:16 [INFO]: ::1 - - [05/Apr/2025:19:33:16 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:33:43 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:33:43 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:33:43 [INFO]: ::1 - - [05/Apr/2025:19:33:43 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:40:05 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:40:05 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:40:05 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:40:08 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:40:08 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:40:08 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:40:10 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:40:10 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:40:10 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:40:20 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:40:20 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:40:20 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:40:22 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:40:22 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:40:22 [INFO]: ::1 - - [05/Apr/2025:19:40:22 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:43:15 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:43:15 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:43:15 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:43:28 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:43:28 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:43:28 [INFO]: ::1 - - [05/Apr/2025:19:43:28 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:45:29 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:45:29 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:45:29 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:45:30 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:45:30 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:45:30 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:45:33 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:45:33 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:45:33 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:45:42 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:45:42 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:45:42 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:45:44 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:45:44 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:45:44 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:45:50 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:45:50 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:45:50 [INFO]: ::1 - - [05/Apr/2025:19:45:50 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:46:24 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:46:24 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:46:24 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:46:32 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:46:32 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:46:32 [INFO]: ::1 - - [05/Apr/2025:19:46:32 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:47:33 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:47:33 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:47:33 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:48:01 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:48:01 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:48:01 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:48:04 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:48:04 [WARN]: Validation error | {"service":"notification-service","path":"/confirmation","errors":[{"type":"field","msg":"email doit être un email valide","path":"body.email","location":"body"},{"type":"field","msg":"userId est requis","path":"body.userId","location":"body"},{"type":"field","msg":"userId doit être une chaîne de caractères","path":"body.userId","location":"body"},{"type":"field","msg":"email est requis","path":"body.email","location":"body"},{"type":"field","msg":"username doit être une chaîne de caractères","path":"body.username","location":"body"},{"type":"field","msg":"confirmationToken est requis","path":"body.confirmationToken","location":"body"},{"type":"field","msg":"confirmationToken doit être une chaîne de caractères","path":"body.confirmationToken","location":"body"}]}
2025-04-05 21:48:04 [INFO]: ::1 - - [05/Apr/2025:19:48:04 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:48:59 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:48:59 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:48:59 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:49:40 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:49:40 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:49:40 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:49:54 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:49:54 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:49:54 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:50:04 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:50:04 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:50:04 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:50:07 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 21:50:07 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 21:50:07 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 21:50:09 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:50:13 [ERROR]: Error logging notification: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 21:50:13 [INFO]: Email sent: <b0e03824-a5f5-3f9b-2eee-00e7ae19253a@gmail.com> to gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:50:13 [INFO]: Confirmation email sent to gervaisines@icloud.com for user 67f18180e11e07e7c4d8aea3 | {"service":"notification-service"}
2025-04-05 21:50:13 [INFO]: ::1 - - [05/Apr/2025:19:50:13 +0000] "POST /api/email/confirmation HTTP/1.1" 200 276 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:53:11 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:53:12 [ERROR]: Error logging notification: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 21:53:12 [INFO]: Email sent: <3d410367-5453-ff1f-3cb6-010f05e07425@gmail.com> to gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 21:53:12 [INFO]: Confirmation email sent to gervaisines@icloud.com for user 67f18180e11e07e7c4d8aea3 | {"service":"notification-service"}
2025-04-05 21:53:12 [INFO]: ::1 - - [05/Apr/2025:19:53:12 +0000] "POST /api/email/confirmation HTTP/1.1" 200 276 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:53:20 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:53:23 [ERROR]: Error logging notification: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 21:53:23 [INFO]: Email sent: <bb8fd2d8-7cca-288b-056d-7c52c556ce6e@gmail.com> to gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:53:23 [INFO]: Confirmation email sent to gervaisines@gmail.com for user 67f18180e11e07e7c4d8aea3 | {"service":"notification-service"}
2025-04-05 21:53:23 [INFO]: ::1 - - [05/Apr/2025:19:53:23 +0000] "POST /api/email/confirmation HTTP/1.1" 200 274 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:53:37 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:53:37 [INFO]: ::1 - - [05/Apr/2025:19:53:37 +0000] "POST /api/email/confirmation HTTP/1.1" 400 104 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 21:55:32 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:55:33 [ERROR]: Error logging notification: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 21:55:33 [INFO]: Email sent: <48225f05-8d4e-2587-6ad6-234824d8c70c@gmail.com> to gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 21:55:33 [INFO]: Confirmation email sent to gervaisines@gmail.com for user 67f18180e11e07e7c4d8aea3 | {"service":"notification-service"}
2025-04-05 21:55:33 [INFO]: ::1 - - [05/Apr/2025:19:55:33 +0000] "POST /api/email/confirmation HTTP/1.1" 200 274 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:08:20 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:08:20 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:08:20 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:08:25 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:08:25 [ERROR]: Failed to send confirmation email: Cannot find module './dataService'
Require stack:
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\controllers\mailController.js
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\routes\emailRoutes.js
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\index.js | {"service":"notification-service"}
2025-04-05 22:08:25 [INFO]: ::1 - - [05/Apr/2025:20:08:25 +0000] "POST /api/email/confirmation HTTP/1.1" 500 2008 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:08:48 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:08:48 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:08:48 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:08:51 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:08:51 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:08:51 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:08:53 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:08:53 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:08:53 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:08:58 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:08:58 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:08:58 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:09:05 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:09:05 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:09:05 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:09:07 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:09:07 [ERROR]: Error verifying email token: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 22:09:07 [INFO]: ::1 - - [05/Apr/2025:20:09:07 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:12:57 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:12:57 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:12:57 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:13:26 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:13:26 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:13:26 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:13:27 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:13:27 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:13:27 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:18:22 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:18:22 [ERROR]: Failed to send confirmation email: Cannot find module './dataService'
Require stack:
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\controllers\mailController.js
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\routes\emailRoutes.js
- C:\Users\plous\Documents\Developpement-YNOV\2024-2025-m2\Projet_pour_examens\notification-service\index.js | {"service":"notification-service"}
2025-04-05 22:18:22 [INFO]: ::1 - - [05/Apr/2025:20:18:22 +0000] "POST /api/email/confirmation HTTP/1.1" 500 2008 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:18:57 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:18:57 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:18:57 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:18:59 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:18:59 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:18:59 [INFO]: ::1 - - [05/Apr/2025:20:18:59 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:19:04 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:19:04 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:19:04 [INFO]: ::1 - - [05/Apr/2025:20:19:04 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:19:34 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:19:34 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:19:34 [INFO]: ::1 - - [05/Apr/2025:20:19:34 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:19:53 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:19:53 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:19:53 [INFO]: ::1 - - [05/Apr/2025:20:19:53 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:20:26 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:20:26 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:20:26 [INFO]: ::1 - - [05/Apr/2025:20:20:26 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:20:56 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:20:56 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:20:56 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:20:59 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:20:59 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:20:59 [INFO]: ::1 - - [05/Apr/2025:20:20:59 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:23:45 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:23:45 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:23:45 [INFO]: ::1 - - [05/Apr/2025:20:23:45 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:24:34 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:24:34 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:24:34 [INFO]: ::1 - - [05/Apr/2025:20:24:34 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:25:38 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 22:25:38 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:25:38 [INFO]: ::1 - - [05/Apr/2025:20:25:38 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:31:27 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:31:27 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:31:27 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:32:58 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 22:32:58 [ERROR]: Failed to send confirmation email: UserService is not defined | {"service":"notification-service"}
2025-04-05 22:32:58 [INFO]: ::1 - - [05/Apr/2025:20:32:58 +0000] "POST /api/email/confirmation HTTP/1.1" 500 929 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:34:11 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:34:11 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:34:11 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:34:24 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:34:24 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:34:24 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:34:40 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 22:34:40 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:34:40 [INFO]: ::1 - - [05/Apr/2025:20:34:40 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:35:22 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:35:22 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:35:22 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:35:24 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:35:24 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:35:24 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:35:25 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 22:35:25 [ERROR]: Failed to send confirmation email: User is not defined | {"service":"notification-service"}
2025-04-05 22:35:25 [INFO]: ::1 - - [05/Apr/2025:20:35:25 +0000] "POST /api/email/confirmation HTTP/1.1" 500 1099 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:35:36 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:35:36 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:35:36 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:35:41 [INFO]: Authentification réussie pour gervaisines@icloud.com | {"service":"notification-service"}
2025-04-05 22:35:41 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:35:41 [INFO]: ::1 - - [05/Apr/2025:20:35:41 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:37:23 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:37:23 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:37:23 [INFO]: ::1 - - [05/Apr/2025:20:37:23 +0000] "POST /api/email/confirmation HTTP/1.1" 400 60 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:39:56 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:39:56 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:39:56 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:40:00 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:40:00 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:40:00 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:41:01 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:41:01 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:41:01 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:41:04 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:41:04 [ERROR]: Error verifying email token: Request failed with status code 500 | {"service":"notification-service"}
2025-04-05 22:41:04 [INFO]: ::1 - - [05/Apr/2025:20:41:04 +0000] "POST /api/email/confirmation HTTP/1.1" 400 17 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:41:56 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:41:56 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:41:56 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:41:57 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:41:57 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:41:57 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:42:52 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:42:52 [ERROR]: Error verifying email token: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 22:42:52 [INFO]: ::1 - - [05/Apr/2025:20:42:52 +0000] "POST /api/email/confirmation HTTP/1.1" 400 17 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:45:48 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:45:48 [ERROR]: Error verifying email token: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 22:45:48 [INFO]: ::1 - - [05/Apr/2025:20:45:48 +0000] "POST /api/email/confirmation HTTP/1.1" 400 17 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
2025-04-05 22:45:56 [ERROR]: Firebase initialization error: Missing Firebase credentials in environment variables | {"service":"notification-service","stack":"Error: Missing Firebase credentials in environment variables\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:35:11)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushService.js:1:45)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\pushController.js:1:21)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)"}
2025-04-05 22:45:56 [WARN]: Firebase services will be mocked. Push notifications will not be sent. | {"service":"notification-service"}
2025-04-05 22:45:56 [INFO]: Notification service running on port 5005 | {"service":"notification-service"}
2025-04-05 22:46:02 [INFO]: Authentification réussie pour gervaisines@gmail.com | {"service":"notification-service"}
2025-04-05 22:46:02 [ERROR]: Error verifying email token: Request failed with status code 404 | {"service":"notification-service"}
2025-04-05 22:46:02 [INFO]: ::1 - - [05/Apr/2025:20:46:02 +0000] "POST /api/email/confirmation HTTP/1.1" 400 17 "-" "PostmanRuntime/7.43.3" | {"service":"notification-service"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T21:53:18.560Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T21:54:47.889Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:17:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","timestamp":"2025-04-05T21:55:09.118Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":245,"pendingcb":1,"writelen":245},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:17:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","timestamp":"2025-04-05T21:55:09.122Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:55:30 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:55:30 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:55:30 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:17:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:55:30.452Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:55:30 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:55:30 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:55:30 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:17:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:55:30.456Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T21:58:34.907Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:36 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:58:36 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:36 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:58:36.414Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:36 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:58:36 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:36 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:58:36.419Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T21:58:46.346Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","889","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:48 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:58:48 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"98","ratelimit-reset":"889","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","889","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:48 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:58:48.133Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","889","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:48 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:58:48 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"98","ratelimit-reset":"889","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","889","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:58:48 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:58:48.141Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","96","RateLimit-Reset","830","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:59:46 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:59:46 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"96","ratelimit-reset":"830","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","96","RateLimit-Reset","830","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:59:46 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:59:46.787Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","96","RateLimit-Reset","830","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:59:46 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 21:59:46 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"96","ratelimit-reset":"830","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","96","RateLimit-Reset","830","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 21:59:46 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T21:59:46.792Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:00:00.950Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","95","RateLimit-Reset","813","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:00:03 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 22:00:03 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"95","ratelimit-reset":"813","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","95","RateLimit-Reset","813","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:00:03 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T22:00:03.471Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","95","RateLimit-Reset","813","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:00:03 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 22:00:03 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"95","ratelimit-reset":"813","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","95","RateLimit-Reset","813","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:00:03 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:20)","status":404,"timestamp":"2025-04-05T22:00:03.477Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:02:42.732Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:02:44 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 22:02:44 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:02:44 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:17:22)","status":404,"timestamp":"2025-04-05T22:02:44.473Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:02:44 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/utilisateur@example.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Utilisateur non trouvé"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"37","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sat, 05 Apr 2025 22:02:44 GMT","etag":"W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/utilisateur@example.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/email/utilisateur@example.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/utilisateur@example.com","pathname":"/users/email/utilisateur@example.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/utilisateur@example.com","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","37","ETag","W/\"25-AX44XPtbe8upSJX+pInIrXdUVeE\"","Date","Sat, 05 Apr 2025 22:02:44 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/email/utilisateur@example.com","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:20:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:17:22)","status":404,"timestamp":"2025-04-05T22:02:44.479Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:03:18.596Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification this.notificationService.sendAccountVerification is not a function","stack":"TypeError: this.notificationService.sendAccountVerification is not a function\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:20:55)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:03:38.005Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:15:55.062Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:16:30.763Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:17:09.796Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:17:09.920Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:17:47.813Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:17:47.949Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification this.notificationService.sendAccountVerification is not a function","stack":"TypeError: this.notificationService.sendAccountVerification is not a function\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:20:55)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:17:49.442Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:20:48.858Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:20:48.968Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:21:18.146Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:21:18.249Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification apiClient is not defined","stack":"ReferenceError: apiClient is not defined\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:17:22)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:27:40\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:14:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:21:23.784Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:22:10.465Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:22:10.585Z"}
{"level":"info","message":"Confirmation email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:22:13.437Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:22:13.438Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:24:22.470Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:24:22.590Z"}
{"level":"info","message":"Confirmation email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:24:25.644Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:24:25.645Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot read properties of undefined (reading 'getUserByEmail')","stack":"TypeError: Cannot read properties of undefined (reading 'getUserByEmail')\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:50:41)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:35:40\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:14:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:27:58.981Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:29:35.151Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:29:35.263Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:29:50.583Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:29:50.693Z"}
{"level":"info","message":"Password reset email sent to gervaisines@gmail.com","timestamp":"2025-04-05T22:30:05.908Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:30:05.909Z"}
{"level":"info","message":"Confirmation email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:32:42.694Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:32:42.695Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:34:16.802Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:34:16.904Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:34:40.361Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:34:40.475Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:34:41.867Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:34:41.978Z"}
{"level":"info","message":"Confirmation email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:34:52.706Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:34:52.707Z"}
{"level":"info","message":"Password reset email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:35:30.297Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:35:30.298Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:36:18.155Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:36:18.263Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:36:35.547Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:36:35.648Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:36:37.730Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:36:37.839Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:36:41.685Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:36:41.801Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:37:10.933Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:37:11.040Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot destructure property 'email' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:69:15)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:37:14.629Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:98:11)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:37:14.631Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:38:08.646Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:38:08.751Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:38:29.850Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:38:29.987Z"}
{"level":"info","message":"Password reset email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:38:32.404Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:38:32.405Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:39:46.044Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:39:46.152Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:40:00.586Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:40:00.716Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot destructure property 'email' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:69:15)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:40:03.070Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:106:11)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:40:03.071Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:41:38.141Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:41:38.252Z"}
{"level":"info","message":"Password reset email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:41:40.616Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:41:40.617Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:41:58.502Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:41:58.608Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:43:20.834Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:43:20.948Z"}
{"level":"info","message":"Password reset email sent to gervaisines@icloud.com","timestamp":"2025-04-05T22:43:22.965Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:43:22.966Z"}
{"level":"info","message":"Password reset email sent to gervaisines@gmail.com","timestamp":"2025-04-05T22:43:35.533Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:43:35.534Z"}
{"level":"info","message":"Password reset email sent to gervaisines@gmail.com","timestamp":"2025-04-05T22:43:49.497Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:43:49.498Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:44:27.337Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:44:27.446Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot destructure property 'email' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:69:15)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:44:52.803Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:106:11)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:46:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-05T22:44:52.804Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:44:58.266Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:44:58.405Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:45:01.776Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:45:01.888Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Erreur d'initialisation Firebase Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new PushNotificationService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:8:38)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:65:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","timestamp":"2025-04-05T22:45:03.846Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-05T22:45:03.975Z"}
{"level":"info","message":"Password reset email sent to gervaisines@gmail.com","timestamp":"2025-04-05T22:45:05.989Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-05T22:45:05.990Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:12:18.080Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:12:18.216Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:12:18.342Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:12:18.342Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:12:19.945Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:12:20.104Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:12:20.266Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:12:20.266Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:12:31.872Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:12:32.013Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:12:32.144Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:12:32.145Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:13:40 +0000] \"GET /health HTTP/1.1\" 200 71 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:13:40.290Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:14:07 +0000] \"POST /notifications/account-verification HTTP/1.1\" 404 80 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:14:07.882Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: user@example.com","timestamp":"2025-04-06T12:14:37.043Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:14:37 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 404 54 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:14:37.080Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:14:53.894Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:14:53.908Z"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:14:54.049Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"5c5d4134757b4f1e0627b51bb34c9c86dcf843f2c1121eccdb137adf1abf75e8\",\"code\":\"707288\",\"expiresAt\":\"2025-04-07T12:14:53.909Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","884","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:14:53 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"5c5d4134757b4f1e0627b51bb34c9c86dcf843f2c1121eccdb137adf1abf75e8\",\"code\":\"707288\",\"expiresAt\":\"2025-04-07T12:14:53.909Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:14:53 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"97","ratelimit-reset":"884","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","884","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:14:53 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:14:54.050Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"5c5d4134757b4f1e0627b51bb34c9c86dcf843f2c1121eccdb137adf1abf75e8\",\"code\":\"707288\",\"expiresAt\":\"2025-04-07T12:14:53.909Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","884","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:14:53 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"5c5d4134757b4f1e0627b51bb34c9c86dcf843f2c1121eccdb137adf1abf75e8\",\"code\":\"707288\",\"expiresAt\":\"2025-04-07T12:14:53.909Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:14:53 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"97","ratelimit-reset":"884","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","884","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:14:53 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:14:54.055Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:14:54 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 112 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:14:54.063Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:15:54.434Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:15:54.443Z"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:15:54.447Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"f7151b77404460c684f04a60a8319f5cd9e5db29628137631360a13de68145d9\",\"code\":\"828883\",\"expiresAt\":\"2025-04-07T12:15:54.443Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","823","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:15:54 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"f7151b77404460c684f04a60a8319f5cd9e5db29628137631360a13de68145d9\",\"code\":\"828883\",\"expiresAt\":\"2025-04-07T12:15:54.443Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:15:54 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"93","ratelimit-reset":"823","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","823","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:15:54 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:15:54.448Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"f7151b77404460c684f04a60a8319f5cd9e5db29628137631360a13de68145d9\",\"code\":\"828883\",\"expiresAt\":\"2025-04-07T12:15:54.443Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","823","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:15:54 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"f7151b77404460c684f04a60a8319f5cd9e5db29628137631360a13de68145d9\",\"code\":\"828883\",\"expiresAt\":\"2025-04-07T12:15:54.443Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:15:54 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"93","ratelimit-reset":"823","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","823","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:15:54 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:15:54.451Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:15:54 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 112 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:15:54.458Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:16:07.681Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:16:07.692Z"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:16:07.696Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"9b9e7aa3ad6770afe149d51ad6c8e8131a422ff3b4466ee1c0391e06c51b3f8c\",\"code\":\"774627\",\"expiresAt\":\"2025-04-07T12:16:07.693Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","91","RateLimit-Reset","810","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:16:07 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"9b9e7aa3ad6770afe149d51ad6c8e8131a422ff3b4466ee1c0391e06c51b3f8c\",\"code\":\"774627\",\"expiresAt\":\"2025-04-07T12:16:07.693Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:16:07 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"91","ratelimit-reset":"810","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","91","RateLimit-Reset","810","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:16:07 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:16:07.697Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"9b9e7aa3ad6770afe149d51ad6c8e8131a422ff3b4466ee1c0391e06c51b3f8c\",\"code\":\"774627\",\"expiresAt\":\"2025-04-07T12:16:07.693Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","91","RateLimit-Reset","810","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:16:07 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"token\":\"9b9e7aa3ad6770afe149d51ad6c8e8131a422ff3b4466ee1c0391e06c51b3f8c\",\"code\":\"774627\",\"expiresAt\":\"2025-04-07T12:16:07.693Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/undefined/verification","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/undefined/verification</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"168","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:16:07 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"91","ratelimit-reset":"810","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"131","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/undefined/verification HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 131\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/undefined/verification","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"131","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/undefined/verification","pathname":"/users/undefined/verification","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":131,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/undefined/verification","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","91","RateLimit-Reset","810","Content-Type","text/html; charset=utf-8","Content-Length","168","Date","Sun, 06 Apr 2025 12:16:07 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/undefined/verification","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.storeVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:73:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:33:7)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","status":404,"timestamp":"2025-04-06T12:16:07.702Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:16:07 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 112 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:16:07.708Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:18:30.873Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:18:31.003Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:18:31.132Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:18:31.132Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:18:33.997Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:18:34.127Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:18:34.247Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:18:34.247Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:19:07.002Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:19:07.129Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:19:07.247Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:19:07.247Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:20:57.790Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:20:57.927Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:20:58.032Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:20:58.033Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:24:46.002Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:24:46.206Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:24:46.398Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:24:46.398Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:26:35.547Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:26:35.890Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:26:36.203Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:26:36.204Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:26:40.211Z"}
{"error":"","level":"error","message":"Erreur lors de la recherche de l'utilisateur par email","timestamp":"2025-04-06T12:26:40.226Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/gervaisines@gmail.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@gmail.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@gmail.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":301,"pendingcb":1,"writelen":301},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@gmail.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@gmail.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":301,"pendingcb":1,"writelen":301},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/gervaisines@gmail.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@gmail.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@gmail.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/gervaisines@gmail.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":301,"pendingcb":1,"writelen":301},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/gervaisines@gmail.com","pathname":"/users/email/gervaisines@gmail.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:28:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:12:22)","timestamp":"2025-04-06T12:26:40.226Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:26:40 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 77 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:26:40.232Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:26:55.877Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:26:55.909Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:26:55.925Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:26:55.926Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"error","message":"Erreur lors de l'envoi de la vérification de compte emailSent is not defined","stack":"ReferenceError: emailSent is not defined\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:75:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","timestamp":"2025-04-06T12:26:55.927Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification emailSent is not defined","stack":"ReferenceError: emailSent is not defined\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:75:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:13:24)","timestamp":"2025-04-06T12:26:55.927Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:26:55 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 101 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:26:55.928Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:27:52.674Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:27:52.843Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:27:52.989Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:27:52.990Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:27:59.463Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:27:59.487Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:27:59.497Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:27:59.498Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:28:00.930Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:28:00.931Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:28:00 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:28:00.935Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:28:10.327Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:28:10.338Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:28:10.344Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:28:10.345Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:28:12.530Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:28:12.531Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:28:12 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:28:12.532Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:28:34.170Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:28:34.178Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:28:34.183Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:28:34.184Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:28:35.444Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:28:35.445Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:28:35 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:28:35.447Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:31:01.036Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:31:01.243Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:31:01.445Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:31:01.446Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:31:02.450Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:31:02.509Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:31:02.533Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:31:02.533Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:31:03.840Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:31:03.841Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:31:03 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:31:03.846Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:31:25.566Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:31:25.578Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:31:25.581Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:31:25.582Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:31:26.765Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:31:26.766Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:31:26 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:31:26.767Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:31:59.365Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:31:59.375Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Token de réinitialisation de mot de passe stocké avec succès","timestamp":"2025-04-06T12:31:59.398Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:32:00.672Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:32:00.673Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:32:00 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:32:00.675Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:32:09.006Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:32:09.015Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Token de réinitialisation de mot de passe stocké avec succès","timestamp":"2025-04-06T12:32:09.031Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:32:10.249Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:32:10.250Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:32:10 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:32:10.252Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:33:48 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 401 30 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:33:48.106Z"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:24:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)","timestamp":"2025-04-06T12:34:05.896Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:34:05 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 401 28 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:34:05.898Z"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:24:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)","timestamp":"2025-04-06T12:34:16.505Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:34:16 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 401 28 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:34:16.506Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:35:11.081Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:35:11.221Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:35:11.329Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:35:11.330Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f1add66c5e20475b7fd99a","timestamp":"2025-04-06T12:35:13.336Z"}
{"data":{"message":"Aucun token d'authentification fourni"},"error":"Request failed with status code 401","level":"error","message":"Erreur lors de la recherche de l'utilisateur par ID","status":401,"timestamp":"2025-04-06T12:35:13.356Z","userId":"67f1add66c5e20475b7fd99a"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f1add66c5e20475b7fd99a","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f1add66c5e20475b7fd99a HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f1add66c5e20475b7fd99a","pathname":"/users/67f1add66c5e20475b7fd99a","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f1add66c5e20475b7fd99a","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","90","RateLimit-Reset","650","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 12:35:13 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f1add66c5e20475b7fd99a","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:35:13 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"90","ratelimit-reset":"650","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f1add66c5e20475b7fd99a HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f1add66c5e20475b7fd99a","pathname":"/users/67f1add66c5e20475b7fd99a","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f1add66c5e20475b7fd99a","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","90","RateLimit-Reset","650","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 12:35:13 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:64:24)\n    at async NotificationController.sendInvoice (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:148:22)","status":401,"timestamp":"2025-04-06T12:35:13.357Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:35:13 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 500 91 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:35:13.367Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f1add66c5e20475b7fd99a","timestamp":"2025-04-06T12:35:31.674Z"}
{"data":{"message":"Aucun token d'authentification fourni"},"error":"Request failed with status code 401","level":"error","message":"Erreur lors de la recherche de l'utilisateur par ID","status":401,"timestamp":"2025-04-06T12:35:31.683Z","userId":"67f1add66c5e20475b7fd99a"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f1add66c5e20475b7fd99a","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f1add66c5e20475b7fd99a HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f1add66c5e20475b7fd99a","pathname":"/users/67f1add66c5e20475b7fd99a","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f1add66c5e20475b7fd99a","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","89","RateLimit-Reset","631","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 12:35:31 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f1add66c5e20475b7fd99a","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 12:35:31 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"89","ratelimit-reset":"631","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f1add66c5e20475b7fd99a HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nX-API-Key: clé-secrète-pour-communication-inter-services\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4","X-API-Key":"clé-secrète-pour-communication-inter-services"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f1add66c5e20475b7fd99a","pathname":"/users/67f1add66c5e20475b7fd99a","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f1add66c5e20475b7fd99a","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","89","RateLimit-Reset","631","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 12:35:31 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f1add66c5e20475b7fd99a","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:64:24)\n    at async NotificationController.sendInvoice (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:148:22)","status":401,"timestamp":"2025-04-06T12:35:31.683Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:35:31 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 500 91 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:35:31.690Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:39:51.123Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:39:51.291Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:39:51.539Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:39:51.541Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f1add66c5e20475b7fd99a","timestamp":"2025-04-06T12:40:02.842Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:40:02 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:40:02.869Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f1add66c5e20475b7fd99a","timestamp":"2025-04-06T12:40:28.158Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:40:28 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:40:28.164Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f191b385f49c8fa67f388c","timestamp":"2025-04-06T12:40:50.865Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:40:50 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:40:50.870Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f191b385f49c8fa67f388c","timestamp":"2025-04-06T12:42:08.090Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:42:08 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:42:08.099Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f191b385f49c8fa67f388c","timestamp":"2025-04-06T12:44:18.874Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:44:18 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:44:18.887Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f191b385f49c8fa67f388c","timestamp":"2025-04-06T12:44:36.316Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:44:36 +0000] \"POST /api/notifications/invoice HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:44:36.325Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:45:40.293Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:45:40.312Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Token de réinitialisation de mot de passe stocké avec succès","timestamp":"2025-04-06T12:45:40.345Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:45:41.711Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:45:41.712Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:45:41 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:45:41.713Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:45:48.726Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:45:48.735Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Token de réinitialisation de mot de passe stocké avec succès","timestamp":"2025-04-06T12:45:48.749Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:45:51.039Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:45:51.040Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:45:51 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:45:51.041Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: user@example.com","timestamp":"2025-04-06T12:46:31.141Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:46:31 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 404 54 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:46:31.150Z"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"40","content-type":"application/json","host":"localhost:5005","postman-token":"5694a145-1aab-4712-856b-6f9d4b00a2f5","user-agent":"PostmanRuntime/7.43.3"},"ip":"::1","level":"warn","message":"Rate limit dépassé","path":"/password-reset","timestamp":"2025-04-06T12:46:38.284Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:46:38 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 429 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:46:38.286Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'email: gervaisines@gmail.com","timestamp":"2025-04-06T12:47:07.285Z"}
{"level":"info","message":"Utilisateur trouvé:","timestamp":"2025-04-06T12:47:07.295Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"error","message":"Erreur lors du stockage du token de vérification","timestamp":"2025-04-06T12:47:07.299Z","userId":"67f1add66c5e20475b7fd99a"}
{"error":"Request failed with status code 404","level":"warn","message":"Impossible de stocker le token, mais tentative d'envoi des notifications","timestamp":"2025-04-06T12:47:07.300Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"Email \"accountVerification\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T12:47:08.522Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T12:47:08.522Z","userId":"67f1add66c5e20475b7fd99a"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:47:08 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:47:08.524Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:48:59 +0000] \"POST /api/notifications/asubscription-started HTTP/1.1\" 404 80 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:48:59.865Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:49:10 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 401 30 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:49:10.745Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: user-id-123","timestamp":"2025-04-06T12:49:23.831Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:49:23 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:49:23.839Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f191b385f49c8fa67f388c","timestamp":"2025-04-06T12:49:40.827Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:49:40 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:49:40.832Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:50:35 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 401 30 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:50:35.224Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:50:42 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 400 1017 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:50:42.017Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: user-id-123","timestamp":"2025-04-06T12:51:51.800Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:51:51 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:51:51.806Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: 67f1add66c5e20475b7fd99a","timestamp":"2025-04-06T12:52:49.990Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:52:49 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:52:49.995Z"}
{"level":"error","message":"invalid token","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid token\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:82:17)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:24:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)","timestamp":"2025-04-06T12:53:11.219Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:53:11 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 401 28 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:53:11.220Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: user-id-123","timestamp":"2025-04-06T12:53:17.109Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:53:17 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:53:17.114Z"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:24:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)","timestamp":"2025-04-06T12:53:22.006Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:53:22 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 401 28 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:53:22.008Z"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","stack":"JsonWebTokenError: invalid signature\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at authMiddleware (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\middlewares\\authMiddleware.js:24:25)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:186:3)\n    at router (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\index.js:342:13)","timestamp":"2025-04-06T12:53:29.916Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:53:29 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 401 28 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:53:29.918Z"}
{"level":"info","message":"Recherche de l'utilisateur avec l'ID: user-id-123","timestamp":"2025-04-06T12:53:35.666Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:53:35 +0000] \"POST /api/notifications/ai-notification HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:53:35.672Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:57:04.632Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:57:04.785Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:57:04.937Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:57:04.938Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:57:53.928Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:57:54.064Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:57:54.170Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:57:54.170Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:58:20.134Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:58:20.273Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:58:20.401Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:58:20.402Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T12:58:52.107Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T12:58:52.278Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T12:58:52.411Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T12:58:52.412Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:12:59:07 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 401 51 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T12:59:07.237Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:00:21.888Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:00:22.197Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:00:22.392Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:00:22.393Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:00:23.995Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:00:24.243Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:00:24.455Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:00:24.456Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:00:26.778Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:00:26.967Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:00:27.149Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:00:27.150Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:00:54.307Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:00:54.435Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:00:54.555Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:00:54.556Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:01:12.603Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:01:12.734Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:01:12.853Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:01:12.854Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe this.apiClient.storePasswordResetToken is not a function","stack":"TypeError: this.apiClient.storePasswordResetToken is not a function\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:114:28)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:49:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:01:15.445Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe this.apiClient.storePasswordResetToken is not a function","stack":"TypeError: this.apiClient.storePasswordResetToken is not a function\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:114:28)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:49:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:01:15.447Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:01:15 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 143 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:01:15.450Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe this.apiClient.storePasswordResetToken is not a function","stack":"TypeError: this.apiClient.storePasswordResetToken is not a function\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:114:28)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:49:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:02:21.352Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe this.apiClient.storePasswordResetToken is not a function","stack":"TypeError: this.apiClient.storePasswordResetToken is not a function\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:114:28)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:49:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:02:21.353Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:02:21 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 143 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:02:21.354Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:03:15.525Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:03:15.660Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:03:15.776Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:03:15.777Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:03:42.365Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:03:42.560Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:03:42.709Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:03:42.710Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T13:04:42.210Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:04:42.211Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:04:42 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:04:42.215Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:10:03.037Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:10:03.187Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:10:03.323Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:10:03.324Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:10:08.008Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:10:08.179Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:10:08.304Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:10:08.304Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T13:13:16.890Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:13:16.891Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:13:16 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:13:16.894Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:16:31.659Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:16:31.787Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:16:31.901Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:16:31.902Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:17:29.813Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:17:29.956Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:17:30.087Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:17:30.087Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:17:38.936Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:17:39.085Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:17:39.209Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:17:39.210Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T13:18:36.125Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:18:36.126Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:18:36 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:18:36.129Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:21:42.915Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:21:43.089Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:21:43.222Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:21:43.223Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T13:22:03.041Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:22:03.042Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:22:03 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:22:03.045Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:25:27.247Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:25:27.410Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:25:27.555Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:25:27.556Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T13:25:34.148Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:25:34.149Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:25:34 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:25:34.152Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:33:59.006Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:33:59.181Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:33:59.338Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:33:59.339Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:34:04.505Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:34:04.684Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:34:04.833Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:34:04.834Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:34:16.006Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:34:16.184Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:34:16.340Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:34:16.340Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:34:27.634Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:34:27.829Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:34:27.998Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:34:27.999Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:34:59.488Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:34:59.651Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:34:59.781Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:34:59.781Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:35:07.839Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:35:08.015Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:35:08.176Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:35:08.177Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:35:25.221Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:35:25.385Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:35:25.533Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:35:25.533Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:35:49.392Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:35:49.548Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:35:49.689Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:35:49.690Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:36:17.791Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:36:17.974Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:36:18.117Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:36:18.117Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:36:23.254Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:36:23.455Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:36:23.642Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:36:23.643Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:37:21 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 404 54 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:37:21.311Z"}
{"level":"error","message":"Erreur lors de l'enregistrement du token de vérification this.apiClient.createVerificationToken is not a function","stack":"TypeError: this.apiClient.createVerificationToken is not a function\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:107:30)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:22.660Z"}
{"level":"error","message":"Erreur lors de l'envoi de la vérification de compte Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:113:15)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:22.662Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:113:15)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:22.662Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:38:22 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 127 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:38:22.664Z"}
{"level":"error","message":"Erreur lors de l'enregistrement du token de vérification this.apiClient.createVerificationToken is not a function","stack":"TypeError: this.apiClient.createVerificationToken is not a function\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:107:30)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:34.543Z"}
{"level":"error","message":"Erreur lors de l'envoi de la vérification de compte Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:113:15)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:34.544Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:113:15)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T13:38:34.545Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:38:34 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 127 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:38:34.546Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:39:43.942Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:39:44.122Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:39:44.303Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:39:44.304Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:39:48.680Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:39:48.861Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:39:49.055Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:39:49.056Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:39:50.359Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:39:50.529Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:39:50.681Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:39:50.681Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:41:36.920Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:41:37.107Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:41:37.297Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:41:37.299Z"}
{"level":"error","message":"Erreur lors de l'envoi de la vérification de compte this.emailService.sendVerificationEmail is not a function","stack":"TypeError: this.emailService.sendVerificationEmail is not a function\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:124:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:24)","timestamp":"2025-04-06T13:41:39.819Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification this.emailService.sendVerificationEmail is not a function","stack":"TypeError: this.emailService.sendVerificationEmail is not a function\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:124:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:16:24)","timestamp":"2025-04-06T13:41:39.820Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:41:39 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 134 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:41:39.827Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:43:18.089Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:43:18.262Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:43:18.409Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:43:18.409Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:43:40.214Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:43:40.389Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:43:40.546Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:43:40.548Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:44:04.520Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:44:04.699Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:44:04.842Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:44:04.843Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T13:44:23.971Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T13:44:24.145Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T13:44:24.294Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T13:44:24.295Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T13:44:27.192Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:44:27.193Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:44:27 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:44:27.198Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:47:33 +0000] \"GET /api/notifications/verify-account HTTP/1.1\" 404 80 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:47:33.195Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:47:42 +0000] \"POST /api/notifications/verify-account HTTP/1.1\" 400 56 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:47:42.448Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:47:56 +0000] \"POST /api/notifications/verify-account HTTP/1.1\" 200 543 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:47:56.133Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T13:53:44.733Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:53:44.734Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:53:44 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:53:44.736Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:59:42 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 400 85 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:59:42.044Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T13:59:59.837Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T13:59:59.838Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:13:59:59 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T13:59:59.839Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:02:51.694Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:02:51.858Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:02:51.978Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:02:51.979Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:02:53.518Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:02:53.648Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:02:53.755Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:02:53.756Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:03:07.174Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:03:07.306Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:03:07.410Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:03:07.411Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:03:09.738Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:03:09.868Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:03:09.974Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:03:09.974Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:04:12.892Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:04:13.025Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:04:13.135Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:04:13.136Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:04:24.309Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:04:24.437Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:04:24.545Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:04:24.546Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:04:44.816Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:04:44.941Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:04:45.048Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:04:45.049Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot destructure property 'email' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:102:15)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:95:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:04:47.646Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:132:11)\n    at NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:95:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:04:47.647Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:04:47 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 141 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:04:47.652Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:06:58.734Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:06:58.865Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:06:58.977Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:06:58.978Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:07:15.851Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:07:15.983Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:07:16.094Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:07:16.095Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:07:29.979Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:07:30.108Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:07:30.216Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:07:30.217Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:07:41.768Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:07:41.936Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:07:42.086Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:07:42.087Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:07:42.941Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:07:43.076Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:07:43.199Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:07:43.199Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:07:47.155Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SM02f29ef0039911ead6a327e27cc09ef6","timestamp":"2025-04-06T14:07:50.078Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T14:07:50.080Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:07:50 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:07:50.082Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification Cannot destructure property 'email' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:239:15)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:22:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:10:47.237Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:269:11)\n    at NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:22:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:10:47.238Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:10:47 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 131 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:10:47.240Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:12:17.086Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:12:17.236Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:12:17.379Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:12:17.380Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:12:18.215Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:12:18.352Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:12:18.481Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:12:18.482Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:12:39.474Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:12:39.614Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:12:39.764Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:12:39.774Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:12:45.953Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:12:46.088Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:12:46.204Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:12:46.204Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:12:51.582Z"}
{"level":"error","message":"Erreur lors de l'envoi du SMS de vérification Cannot read properties of undefined (reading 'messages')","stack":"TypeError: Cannot read properties of undefined (reading 'messages')\n    at SMSService.sendVerificationSMS (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:59:41)\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:193:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:28:24)","timestamp":"2025-04-06T14:12:51.583Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:12:51.584Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:12:51 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:12:51.588Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:14:40.897Z"}
{"level":"error","message":"Erreur d'initialisation Twilio twilio is not defined","stack":"ReferenceError: twilio is not defined\n    at new SMSService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:9:7)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:108:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:2:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:2:29)","timestamp":"2025-04-06T14:14:40.902Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:14:41.034Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:14:41.152Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:14:41.153Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:14:54.962Z"}
{"level":"error","message":"Erreur d'initialisation Twilio twilio is not defined","stack":"ReferenceError: twilio is not defined\n    at new SMSService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:9:7)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:134:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:2:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:2:29)","timestamp":"2025-04-06T14:14:54.968Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:14:55.099Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:14:55.215Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:14:55.216Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:15:07.864Z"}
{"level":"error","message":"Erreur d'initialisation Twilio twilio is not defined","stack":"ReferenceError: twilio is not defined\n    at new SMSService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:9:7)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:141:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:2:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:2:29)","timestamp":"2025-04-06T14:15:07.870Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:15:07.997Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:15:08.121Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:15:08.121Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:15:22.875Z"}
{"level":"warn","message":"Client Twilio non initialisé","timestamp":"2025-04-06T14:15:22.876Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:15:22.876Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:15:22 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:15:22.880Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:16:21.085Z"}
{"level":"error","message":"Client Twilio non initialisé","timestamp":"2025-04-06T14:16:21.086Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:16:21.087Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:16:21 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 125 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:16:21.089Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:16:29.332Z"}
{"level":"error","message":"Erreur d'initialisation Twilio twilio is not defined","stack":"ReferenceError: twilio is not defined\n    at new SMSService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:9:7)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:136:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:2:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:2:29)","timestamp":"2025-04-06T14:16:29.338Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:29.472Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:29.585Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:29.586Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:16:30.999Z"}
{"level":"error","message":"Erreur d'initialisation Twilio twilio is not defined","stack":"ReferenceError: twilio is not defined\n    at new SMSService (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:9:7)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\smsService.js:108:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:2:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:2:29)","timestamp":"2025-04-06T14:16:31.004Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:31.167Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:31.275Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:31.276Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:16:35.043Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:35.188Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:35.327Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:35.328Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:16:36.118Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:36.261Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:36.400Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:36.401Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:38.995Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:39.115Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:39.116Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:16:40.266Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:16:40.409Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:16:40.531Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:16:40.532Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:16:42.868Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SM161dfbb12aa23b13f36a1ffc7c575be7","timestamp":"2025-04-06T14:16:43.303Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T14:16:43.304Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:16:43 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:16:43.310Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:18:16.780Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:18:16.975Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:18:17.090Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:18:17.091Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:20:05.631Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:20:05.762Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:20:05.865Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:20:05.866Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:20:16.450Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:20:16.578Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:20:16.692Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:20:16.693Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:20:28.838Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:20:28.971Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:20:29.088Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:20:29.088Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:20:37.029Z"}
{"level":"info","message":"SMS \"accountVerification\" envoyé à +33686326400","messageSid":"SM084c776ee35d44e5c21d2fd03341b8e3","timestamp":"2025-04-06T14:20:37.449Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":true,"timestamp":"2025-04-06T14:20:37.450Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:20:37 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 104 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:20:37.454Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:23:37.001Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:23:37.191Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:23:37.317Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:23:37.318Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:25:32.031Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:25:32.163Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:25:32.278Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:25:32.279Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:25:41.620Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:25:41.744Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:25:41.857Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:25:41.858Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:25:46.501Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:25:46.641Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:25:46.760Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:25:46.761Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:27:32.396Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:27:32.536Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:27:32.639Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:27:32.640Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:27:33.647Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:27:33.775Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:27:33.891Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:27:33.892Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:27:36.186Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:27:36.353Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:27:36.480Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:27:36.481Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:27:37.109Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:27:37.242Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:27:37.347Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:27:37.348Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:28:12.594Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:28:12.725Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:28:12.866Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:28:12.867Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:28:20.339Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:28:20.340Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:28:20 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:28:20.343Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:29:31.773Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:29:31.906Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:29:32.014Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:29:32.015Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:31:22.667Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:31:22.807Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:31:22.925Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:31:22.926Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:31:26.352Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:31:26.492Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:31:26.604Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:31:26.604Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:31:33.889Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:31:34.032Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:31:34.161Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:31:34.162Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:31:46.825Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:31:46.947Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:31:47.056Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:31:47.057Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:32:32 +0000] \"POST /notifications/subscription-started HTTP/1.1\" 404 80 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:32:32.645Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:32:42 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 401 51 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:32:42.317Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de début d'abonnement ApiClient.getUserById is not a function","stack":"TypeError: ApiClient.getUserById is not a function\n    at NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:38)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:62:40\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:18:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:32:57.581Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:32:57 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 122 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:32:57.583Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de début d'abonnement ApiClient.getUserById is not a function","stack":"TypeError: ApiClient.getUserById is not a function\n    at NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:38)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:62:40\n    at Layer.handleRequest (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\routes\\notificationRoutes.js:18:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-06T14:33:12.158Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:33:12 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 122 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:33:12.159Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:34:42.657Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:34:42.799Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:34:42.935Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:34:42.936Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","770","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:34:57 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:34:57 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"98","ratelimit-reset":"770","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","770","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:34:57 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:38:24)\n    at async NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:22)","status":401,"timestamp":"2025-04-06T14:34:57.352Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:34:57 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:34:57.363Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","750","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:35:18 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:35:18 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"97","ratelimit-reset":"750","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","97","RateLimit-Reset","750","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:35:18 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:38:24)\n    at async NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:22)","status":401,"timestamp":"2025-04-06T14:35:18.250Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:35:18 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:35:18.256Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:38:03 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 404 37 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:38:03.649Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:38:52 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:38:52 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:38:52 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:38:24)\n    at async NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:22)","status":401,"timestamp":"2025-04-06T14:38:52.595Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:38:52 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:38:52.601Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:40:05 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/user-id-123","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:40:05 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"99","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/user-id-123 HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/user-id-123","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/user-id-123","pathname":"/users/user-id-123","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/user-id-123","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","99","RateLimit-Reset","900","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:40:05 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/user-id-123","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:38:24)\n    at async NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:22)","status":401,"timestamp":"2025-04-06T14:40:05.016Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:40:05 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:40:05.022Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f2876107dc61c2b21f071e","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 401","name":"AxiosError","request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f2876107dc61c2b21f071e HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f2876107dc61c2b21f071e","pathname":"/users/67f2876107dc61c2b21f071e","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f2876107dc61c2b21f071e","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","752","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:42:33 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f2876107dc61c2b21f071e","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"message":"Aucun token d'authentification fourni"},"headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"51","content-security-policy":"default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","content-type":"application/json; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:42:33 GMT","etag":"W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"98","ratelimit-reset":"752","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":0,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/67f2876107dc61c2b21f071e HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f2876107dc61c2b21f071e","pathname":"/users/67f2876107dc61c2b21f071e","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f2876107dc61c2b21f071e","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","752","Content-Type","application/json; charset=utf-8","Content-Length","51","ETag","W/\"33-vN3+S+HXxyy705mcKqm31zPbnUk\"","Date","Sun, 06 Apr 2025 14:42:33 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e","socket":null,"statusCode":401,"statusMessage":"Unauthorized","upgrade":false,"url":""},"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"status":401,"statusText":"Unauthorized"},"stack":"AxiosError: Request failed with status code 401\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserById (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:38:24)\n    at async NotificationController.sendSubscriptionStarted (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:108:22)","status":401,"timestamp":"2025-04-06T14:42:33.138Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:42:33 +0000] \"POST /api/notifications/subscription-started HTTP/1.1\" 500 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:42:33.144Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T14:50:31.680Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T14:50:31.827Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T14:50:31.947Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T14:50:31.948Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:50:33 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 404 54 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:50:33.324Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/gervaisines@icloud.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/gervaisines@icloud.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/gervaisines@icloud.com","pathname":"/users/email/gervaisines@icloud.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:19:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:23:22)","timestamp":"2025-04-06T14:50:52.113Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:50:52 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 77 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:50:52.120Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:50:55 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 404 54 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:50:55.270Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:51:44.528Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:51:44.529Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:51:44 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:51:44.531Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:53:01.897Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:53:01.898Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:53:01 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:53:01.899Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"verificationToken\":\"53e2e294d1347b3418cfca3e621c37a75f70bc58094084c6907e1d8c56adbcb2\",\"expiresAt\":\"2025-04-07T14:53:56.280Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"127","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f2876107dc61c2b21f071e/verify","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"127","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f2876107dc61c2b21f071e/verify HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 127\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e/verify","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"127","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f2876107dc61c2b21f071e/verify","pathname":"/users/67f2876107dc61c2b21f071e/verify","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":127,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f2876107dc61c2b21f071e/verify","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","900","Content-Type","text/html; charset=utf-8","Content-Length","177","Date","Sun, 06 Apr 2025 14:53:56 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e/verify","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"verificationToken\":\"53e2e294d1347b3418cfca3e621c37a75f70bc58094084c6907e1d8c56adbcb2\",\"expiresAt\":\"2025-04-07T14:53:56.280Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"127","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f2876107dc61c2b21f071e/verify","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/67f2876107dc61c2b21f071e/verify</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"177","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 14:53:56 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"98","ratelimit-reset":"900","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"127","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f2876107dc61c2b21f071e/verify HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 127\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e/verify","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"127","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f2876107dc61c2b21f071e/verify","pathname":"/users/67f2876107dc61c2b21f071e/verify","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":127,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f2876107dc61c2b21f071e/verify","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","98","RateLimit-Reset","900","Content-Type","text/html; charset=utf-8","Content-Length","177","Date","Sun, 06 Apr 2025 14:53:56 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f2876107dc61c2b21f071e/verify","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.createVerificationToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:93:24)\n    at async NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:115:9)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:27:24)","status":404,"timestamp":"2025-04-06T14:53:56.298Z"}
{"level":"error","message":"Erreur lors de l'envoi de la vérification de compte Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:121:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:27:24)","timestamp":"2025-04-06T14:53:56.306Z"}
{"level":"error","message":"Erreur lors de l'envoi des notifications de vérification Impossible d'enregistrer le token de vérification","stack":"Error: Impossible d'enregistrer le token de vérification\n    at NotificationService.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:121:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:27:24)","timestamp":"2025-04-06T14:53:56.308Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:53:56 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 127 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:53:56.310Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/gervaisines@icloud.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/gervaisines@icloud.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/gervaisines@icloud.com","pathname":"/users/email/gervaisines@icloud.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:19:24)\n    at async NotificationController.sendAccountVerification (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:23:22)","timestamp":"2025-04-06T14:54:27.791Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:54:27 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 500 77 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:54:27.796Z"}
{"level":"info","message":"Email de vérification envoyé à gervaisines@icloud.com","timestamp":"2025-04-06T14:54:34.027Z"}
{"email":true,"level":"info","message":"Vérification de compte - Statut","push":false,"sms":false,"timestamp":"2025-04-06T14:54:34.028Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:14:54:34 +0000] \"POST /api/notifications/account-verification HTTP/1.1\" 200 105 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T14:54:34.029Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T15:03:08.244Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T15:03:08.373Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T15:03:08.485Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T15:03:08.485Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"resetToken\":\"567a9166dd58ebf78985535d11c3e96a1beede813cd5886c6257d8ca10b23832\",\"resetCode\":\"763715\",\"expiresAt\":\"2025-04-06T15:18:10.239Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f296cdd607709d8f4d0c4b/reset-password","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"141","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f296cdd607709d8f4d0c4b/reset-password HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 141\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f296cdd607709d8f4d0c4b/reset-password","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f296cdd607709d8f4d0c4b/reset-password","pathname":"/users/67f296cdd607709d8f4d0c4b/reset-password","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":141,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f296cdd607709d8f4d0c4b/reset-password","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","676","Content-Type","text/html; charset=utf-8","Content-Length","185","Date","Sun, 06 Apr 2025 15:03:10 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f296cdd607709d8f4d0c4b/reset-password","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"resetToken\":\"567a9166dd58ebf78985535d11c3e96a1beede813cd5886c6257d8ca10b23832\",\"resetCode\":\"763715\",\"expiresAt\":\"2025-04-06T15:18:10.239Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f296cdd607709d8f4d0c4b/reset-password","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/67f296cdd607709d8f4d0c4b/reset-password</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"185","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 15:03:10 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"93","ratelimit-reset":"676","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"141","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f296cdd607709d8f4d0c4b/reset-password HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 141\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f296cdd607709d8f4d0c4b/reset-password","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f296cdd607709d8f4d0c4b/reset-password","pathname":"/users/67f296cdd607709d8f4d0c4b/reset-password","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":141,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f296cdd607709d8f4d0c4b/reset-password","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","93","RateLimit-Reset","676","Content-Type","text/html; charset=utf-8","Content-Length","185","Date","Sun, 06 Apr 2025 15:03:10 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f296cdd607709d8f4d0c4b/reset-password","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.createPasswordResetToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:57:24)\n    at async NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:36:9)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","status":404,"timestamp":"2025-04-06T15:03:10.248Z"}
{"level":"error","message":"Erreur lors de l'envoi de la réinitialisation de mot de passe Impossible d'enregistrer le token de réinitialisation","stack":"Error: Impossible d'enregistrer le token de réinitialisation\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:43:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","timestamp":"2025-04-06T15:03:10.254Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Impossible d'enregistrer le token de réinitialisation","stack":"Error: Impossible d'enregistrer le token de réinitialisation\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:43:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","timestamp":"2025-04-06T15:03:10.255Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:03:10 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 141 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:03:10.259Z"}
{"code":"ERR_BAD_REQUEST","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"resetToken\":\"864ca1788a396eb6522e3c220dde577f8ae46d2d3436b7aa6686412740c15e9e\",\"resetCode\":\"942567\",\"expiresAt\":\"2025-04-06T15:18:40.145Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f297c6d607709d8f4d0c60/reset-password","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 404","name":"AxiosError","request":{"_closed":true,"_contentLength":"141","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f297c6d607709d8f4d0c60/reset-password HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 141\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f297c6d607709d8f4d0c60/reset-password","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f297c6d607709d8f4d0c60/reset-password","pathname":"/users/67f297c6d607709d8f4d0c60/reset-password","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":141,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f297c6d607709d8f4d0c60/reset-password","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","90","RateLimit-Reset","646","Content-Type","text/html; charset=utf-8","Content-Length","185","Date","Sun, 06 Apr 2025 15:03:40 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f297c6d607709d8f4d0c60/reset-password","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","data":"{\"resetToken\":\"864ca1788a396eb6522e3c220dde577f8ae46d2d3436b7aa6686412740c15e9e\",\"resetCode\":\"942567\",\"expiresAt\":\"2025-04-06T15:18:40.145Z\"}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/67f297c6d607709d8f4d0c60/reset-password","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST /users/67f297c6d607709d8f4d0c60/reset-password</pre>\n</body>\n</html>\n","headers":{"access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3000","connection":"keep-alive","content-length":"185","content-security-policy":"default-src 'none'","content-type":"text/html; charset=utf-8","cross-origin-opener-policy":"same-origin","cross-origin-resource-policy":"same-origin","date":"Sun, 06 Apr 2025 15:03:40 GMT","keep-alive":"timeout=5","origin-agent-cluster":"?1","ratelimit-limit":"100","ratelimit-policy":"100;w=900","ratelimit-remaining":"90","ratelimit-reset":"646","referrer-policy":"no-referrer","strict-transport-security":"max-age=31536000; includeSubDomains","vary":"Origin","x-content-type-options":"nosniff","x-dns-prefetch-control":"off","x-download-options":"noopen","x-frame-options":"SAMEORIGIN","x-permitted-cross-domain-policies":"none","x-xss-protection":"0"},"request":{"_closed":true,"_contentLength":"141","_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /users/67f297c6d607709d8f4d0c60/reset-password HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nContent-Length: 141\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:5002/users/67f297c6d607709d8f4d0c60/reset-password","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"141","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/67f297c6d607709d8f4d0c60/reset-password","pathname":"/users/67f297c6d607709d8f4d0c60/reset-password","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":141,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/users/67f297c6d607709d8f4d0c60/reset-password","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Security-Policy","default-src 'none'","Cross-Origin-Opener-Policy","same-origin","Cross-Origin-Resource-Policy","same-origin","Origin-Agent-Cluster","?1","Referrer-Policy","no-referrer","Strict-Transport-Security","max-age=31536000; includeSubDomains","X-Content-Type-Options","nosniff","X-DNS-Prefetch-Control","off","X-Download-Options","noopen","X-Frame-Options","SAMEORIGIN","X-Permitted-Cross-Domain-Policies","none","X-XSS-Protection","0","Access-Control-Allow-Origin","http://localhost:3000","Vary","Origin","Access-Control-Allow-Credentials","true","RateLimit-Policy","100;w=900","RateLimit-Limit","100","RateLimit-Remaining","90","RateLimit-Reset","646","Content-Type","text/html; charset=utf-8","Content-Length","185","Date","Sun, 06 Apr 2025 15:03:40 GMT","Connection","keep-alive","Keep-Alive","timeout=5"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:5002/users/67f297c6d607709d8f4d0c60/reset-password","socket":null,"statusCode":404,"statusMessage":"Not Found","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002"],"connecting":false,"parser":null,"server":null,"timeout":4000},"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":404,"statusText":"Not Found"},"stack":"AxiosError: Request failed with status code 404\n    at settle (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:2031:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3148:11)\n    at IncomingMessage.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.createPasswordResetToken (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:57:24)\n    at async NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:36:9)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","status":404,"timestamp":"2025-04-06T15:03:40.151Z"}
{"level":"error","message":"Erreur lors de l'envoi de la réinitialisation de mot de passe Impossible d'enregistrer le token de réinitialisation","stack":"Error: Impossible d'enregistrer le token de réinitialisation\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:43:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","timestamp":"2025-04-06T15:03:40.157Z"}
{"level":"error","message":"Erreur lors de l'initiation de la réinitialisation de mot de passe Impossible d'enregistrer le token de réinitialisation","stack":"Error: Impossible d'enregistrer le token de réinitialisation\n    at NotificationService.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\notificationService.js:43:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:73:24)","timestamp":"2025-04-06T15:03:40.158Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:03:40 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 141 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:03:40.161Z"}
{"cause":{"code":"ECONNREFUSED"},"code":"ECONNREFUSED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"baseURL":"http://localhost:5002","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":5000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"/users/email/gervaisines@icloud.com","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errors":[{"address":"::1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"},{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-4078,"port":5002,"syscall":"connect"}],"level":"error","message":"","name":"AggregateError","request":{"_currentRequest":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_currentUrl":"http://localhost:5002/users/email/gervaisines@icloud.com","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Type":"application/json","User-Agent":"axios/1.8.4"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"GET","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:5002:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"connect":[null,null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":true,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":0,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":true,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"GET","outputData":[],"outputSize":0,"parser":null,"path":"/users/email/gervaisines@icloud.com","protocol":"http:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":false,"writable":true},"_parent":null,"_pendingData":"GET /users/email/gervaisines@icloud.com HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.8.4\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:5002\r\nConnection: keep-alive\r\n\r\n","_pendingEncoding":"latin1","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":244,"pendingcb":1,"writelen":244},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:5002","127.0.0.1:5002"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/users/email/gervaisines@icloud.com","pathname":"/users/email/gervaisines@icloud.com","port":"5002","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":0,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"AggregateError\n    at AxiosError.from (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:857:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:3169:25)\n    at RedirectableRequest.emit (node:events:530:35)\n    at eventHandlers.<computed> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:518:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:518:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\axios\\dist\\node\\axios.cjs:4258:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ApiClient.getUserByEmail (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\utils\\apiClient.js:19:24)\n    at async NotificationController.initiatePasswordReset (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\controllers\\notificationController.js:66:22)","timestamp":"2025-04-06T15:03:58.671Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:03:58 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 500 87 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:03:58.676Z"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:5005","postman-token":"ce0f91fe-638b-464f-8e19-a2196fb3c5bc","user-agent":"PostmanRuntime/7.43.3"},"ip":"::1","level":"warn","message":"Rate limit dépassé","path":"/password-reset","timestamp":"2025-04-06T15:04:01.423Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:04:01 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 429 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:04:01.425Z"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"78","content-type":"application/json","host":"localhost:5005","postman-token":"cc4ed859-f091-4569-bf0c-8631a23da3c2","user-agent":"PostmanRuntime/7.43.3"},"ip":"::1","level":"warn","message":"Rate limit dépassé","path":"/password-reset","timestamp":"2025-04-06T15:04:10.070Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:04:10 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 429 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:04:10.071Z"}
{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"78","content-type":"application/json","host":"localhost:5005","postman-token":"640c32fa-00a6-478b-8c46-8076d32b8333","user-agent":"PostmanRuntime/7.43.3"},"ip":"::1","level":"warn","message":"Rate limit dépassé","path":"/password-reset","timestamp":"2025-04-06T15:08:05.845Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:08:05 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 429 118 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:08:05.846Z"}
{"level":"info","message":"Twilio client initialized successfully","timestamp":"2025-04-06T15:08:32.138Z"}
{"codePrefix":"app","errorInfo":{"code":"app/invalid-credential","message":"Failed to parse private key: Error: Invalid PEM formatted message."},"level":"error","message":"Error initializing Firebase Admin SDK Failed to parse private key: Error: Invalid PEM formatted message.","stack":"Error: Failed to parse private key: Error: Invalid PEM formatted message.\n    at new ServiceAccount (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:182:19)\n    at new ServiceAccountCredential (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-internal.js:118:15)\n    at Object.cert (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\node_modules\\firebase-admin\\lib\\app\\credential-factory.js:105:54)\n    at new FirebaseConfig (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:13:40)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\config\\firebaseConfig.js:40:18)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (C:\\Users\\plous\\Documents\\Developpement-YNOV\\2024-2025-m2\\Projet_pour_examens\\notification-service\\services\\pushNotificationService.js:2:24)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)","timestamp":"2025-04-06T15:08:32.302Z"}
{"level":"info","message":"Notification Service running on port 5005","timestamp":"2025-04-06T15:08:32.440Z"}
{"level":"info","message":"Environment: development","timestamp":"2025-04-06T15:08:32.441Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T15:08:35.072Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SMc20bb88fac4c73805e787cf34d4a83af","timestamp":"2025-04-06T15:08:36.304Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T15:08:36.305Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:08:36 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:08:36.308Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T15:10:14.575Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SM5119b19570b6cb3cff2c701b491ac7b1","timestamp":"2025-04-06T15:10:14.931Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T15:10:14.932Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:10:14 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:10:14.933Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T15:11:09.378Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SM4dd802146a46c4f762efaa215de5d49c","timestamp":"2025-04-06T15:11:09.707Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T15:11:09.708Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:11:09 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:11:09.709Z"}
{"level":"info","message":"Email \"passwordReset\" envoyé à gervaisines@gmail.com","timestamp":"2025-04-06T15:12:22.368Z"}
{"level":"info","message":"SMS \"passwordReset\" envoyé à +33686326400","messageSid":"SMf0d3559047607dadaa4f0b126ab09865","timestamp":"2025-04-06T15:12:23.728Z"}
{"email":true,"level":"info","message":"Réinitialisation de mot de passe - Statut","push":false,"sms":true,"timestamp":"2025-04-06T15:12:23.728Z"}
{"level":"info","message":"::1 - - [06/Apr/2025:15:12:23 +0000] \"POST /api/notifications/password-reset HTTP/1.1\" 200 124 \"-\" \"PostmanRuntime/7.43.3\"","timestamp":"2025-04-06T15:12:23.730Z"}
